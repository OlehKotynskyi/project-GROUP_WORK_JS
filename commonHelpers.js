import{a as u,c as q,h as b}from"./assets/scroll-1c6ad45b.js";import"./assets/vendor-4ea89540.js";const g=document.querySelector(".products-quantity-title"),p=document.querySelector(".products-total-price"),a=document.querySelector(".cart-container"),C=document.querySelector(".cart-desktop-wrapper"),m=document.querySelector(".cart-empty"),N=document.querySelector(".del-all-wrapper"),r="products in cart",y=document.querySelector(".form-checkout");document.getElementById(".inputEmail");document.querySelector(".btnCheckout");d();N.addEventListener("click",k);function k(){localStorage.removeItem(r),d()}function d(){u();const t=JSON.parse(localStorage.getItem(r));if(t==null||t.length===0)C.style.display="none",m.style.display="block",a.innerHTML="",g.textContent="Cart (0)",p.textContent="$0";else{a.innerHTML="",m.style.display="none",a.insertAdjacentHTML("beforeend",q(t));const n=document.querySelectorAll(".products-quantity");t.forEach((o,e)=>{n[e].textContent=o.quantity}),l(t)}}a.addEventListener("click",I);function I(t){if(t.target.className!=="remove-btn"&&t.target.className!=="remove-btn-img")return;const n=t.target.closest(".cart-list-item"),o=n.id,e=JSON.parse(localStorage.getItem(r)),c=e.findIndex(s=>s._id===o);if(e.splice(c,1),localStorage.setItem(r,JSON.stringify(e)),n.remove(),u(),l(e),e==null||e.length===0){d();return}}a.addEventListener("click",h);function h(t){if(t.target.className!=="more-btn-img"&&t.target.className!=="less-btn"&&t.target.className!=="more-btn-card"&&t.target.className!=="less-btn-img")return;const n=t.target.closest(".cart-list-item"),o=n.id,e=JSON.parse(localStorage.getItem(r)),c=e.findIndex(S=>S._id===o),s=n.querySelector(".products-quantity");if((t.target.className==="more-btn-card"||t.target.className==="more-btn-img")&&(e[c].quantity++,s.innerHTML=e[c].quantity,localStorage.setItem(r,JSON.stringify(e)),l(e)),t.target.className==="less-btn"||t.target.className==="less-btn-img"){if(e[c].quantity===0){e.splice(c,1),n.remove(),localStorage.setItem(r,JSON.stringify(e)),u(),l(e),(e==null||e.length===0)&&d();return}e[c].quantity--,s.innerHTML=e[c].quantity,localStorage.setItem(r,JSON.stringify(e)),l(e)}}function l(t){g.textContent=`Cart (${t.length})`;const n=t.reduce((o,{quantity:e,price:c})=>o+=e*c,0);p.textContent=`$${n.toFixed(2)}`}y.addEventListener("sumbit",function(t){y.value||alert("Please enter a valid email")});const f=document.querySelector(".btnCheckout"),i=document.querySelector(".modal");console.log(f);var E=document.getElementsByClassName("close")[0];f.addEventListener("click",function(t){t.preventDefault(),i.style.display="block"});E.onclick=function(){i.style.display="block"};window.onclick=function(t){t.target==i&&(i.style.display="block")};b();
//# sourceMappingURL=commonHelpers.js.map

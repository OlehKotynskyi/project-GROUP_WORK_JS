import{a as d,c as f,h as S}from"./assets/scroll-4a7a0df9.js";const g=document.querySelector(".products-quantity-title"),y=document.querySelector(".products-total-price"),o=document.querySelector(".cart-container"),q=document.querySelector(".cart-desktop-wrapper"),u=document.querySelector(".cart-empty"),I=document.querySelector(".del-all-wrapper"),a="products in cart",m=document.querySelector(".form-checkout");document.getElementById(".inputEmail");document.querySelector(".btnCheckout");i();I.addEventListener("click",N);function N(){localStorage.removeItem(a),i()}function i(){d();const e=JSON.parse(localStorage.getItem(a));if(e==null||e.length===0)q.style.display="none",u.style.display="block",o.innerHTML="",g.textContent="Cart (0)",y.textContent="$0";else{o.innerHTML="",u.style.display="none",o.insertAdjacentHTML("beforeend",f(e));const n=document.querySelectorAll(".products-quantity");e.forEach((c,t)=>{n[t].textContent=c.quantity}),s(e)}}o.addEventListener("click",C);function C(e){if(e.target.className!=="remove-btn"&&e.target.className!=="remove-btn-img")return;const n=e.target.closest(".cart-list-item"),c=n.id,t=JSON.parse(localStorage.getItem(a)),r=t.findIndex(l=>l._id===c);if(t.splice(r,1),localStorage.setItem(a,JSON.stringify(t)),n.remove(),d(),s(t),t==null||t.length===0){i();return}}o.addEventListener("click",b);function b(e){if(e.target.className!=="more-btn-img"&&e.target.className!=="less-btn"&&e.target.className!=="more-btn-card"&&e.target.className!=="less-btn-img")return;const n=e.target.closest(".cart-list-item"),c=n.id,t=JSON.parse(localStorage.getItem(a)),r=t.findIndex(p=>p._id===c),l=n.querySelector(".products-quantity");if((e.target.className==="more-btn-card"||e.target.className==="more-btn-img")&&(t[r].quantity++,l.innerHTML=t[r].quantity,localStorage.setItem(a,JSON.stringify(t)),s(t)),e.target.className==="less-btn"||e.target.className==="less-btn-img"){if(t[r].quantity===0){t.splice(r,1),n.remove(),localStorage.setItem(a,JSON.stringify(t)),d(),s(t),(t==null||t.length===0)&&i();return}t[r].quantity--,l.innerHTML=t[r].quantity,localStorage.setItem(a,JSON.stringify(t)),s(t)}}function s(e){g.textContent=`Cart (${e.length})`;const n=e.reduce((c,{quantity:t,price:r})=>c+=t*r,0);y.textContent=`$${n.toFixed(2)}`}m.addEventListener("sumbit",function(e){m.value||alert("Please enter a valid email")});S();
//# sourceMappingURL=commonHelpers.js.map

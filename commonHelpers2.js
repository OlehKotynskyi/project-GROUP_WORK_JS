import{a as x,b as E,d as I}from"./assets/template-910a7fea.js";import{a as q}from"./assets/vendor-a61d8330.js";async function T(e){return(await q(`https://food-boutique.b.goit.study/api/products?keyword=Ac&category=${e}&page=1&limit=10`)).data.results}async function y(e){return(await q(`https://food-boutique.b.goit.study/api/products/${e}`)).data}const w=document.querySelector(".products-container"),M=document.querySelector(".popular-container"),O=document.querySelector(".discount-container"),h="products in cart";async function D(){try{const e=await T("Fresh_Produce");w.insertAdjacentHTML("beforeend",x(e))}catch(e){console.log(e.message)}}D();async function H(){try{const e=await y("popular");M.insertAdjacentHTML("beforeend",E(e))}catch(e){console.log(e.message)}}H();async function N(){const e=await y("discount");O.insertAdjacentHTML("beforeend",I(e))}N();w.addEventListener("click",C);async function C(e){if(e.target.nodeName!=="BUTTON")return;const o=e.target.closest(".list-item").id;console.log(o);try{const c=await y(o),n=JSON.parse(localStorage.getItem(h))??[];console.log(n);const a=n.findIndex(P=>P._id===o);console.log(a),a!==-1?n[a].quantity+=1:(c.quantity=1,n.push(c)),localStorage.setItem(h,JSON.stringify(n))}catch(c){console.log(c.message)}}let u=0;const k=60,m=document.querySelector(".header"),L=document.querySelector(".header-section"),l=()=>window.pageYOffset||document.documentElement.scrollTop,S=()=>m.classList.contains("hide");function R(){window.addEventListener("scroll",()=>{l()>u&&!S()&&l()>k?m.classList.add("hide"):l()<u&&S()&&m.classList.remove("hide"),l()>k?L.classList.add("scrolled"):L.classList.remove("scrolled"),u=l()})}const p=document.querySelectorAll(".popup-link"),d=document.querySelector("body"),s=document.querySelectorAll(".lock-padding");let r=!0;const g=800;if(p.length>0)for(let e=0;e<p.length;e++){const t=p[e];t.addEventListener("click",function(o){const c=t.getAttribute("href").replace("#",""),n=document.getElementById(c);A(n),o.preventDefault()})}const f=document.querySelectorAll(".close-popup");if(f.length>0)for(let e=0;e<f.length;e++){const t=f[e];t.addEventListener("click",function(o){i(t.closest(".popup")),o.preventDefault()})}function A(e){if(e&&r){const t=document.querySelector(".popup.open");t?i(t,!1):b(),e.classList.add("open"),e.addEventListener("click",function(o){o.target.closest(".popup-content")||i(o.target.closest(".popup"))})}}function i(e,t=!0){r&&(e.classList.remove("open"),t&&v())}function b(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(s.length>0)for(let t=0;t<s.length;t++){const o=s[t];o.style.paddingRight=e}d.style.paddingRight=e,d.classList.add("lock"),r=!1,setTimeout(function(){r=!0},g)}function v(){setTimeout(function(){if(s.length>0)for(let e=0;e<s.length;e++){const t=s[e];t.style.paddingRight="0px"}d.style.paddingRight="0px",d.classList.remove("lock")},g),r=!1,setTimeout(function(){r=!0},g)}document.addEventListener("keydown",function(e){if(e.code==="Escape"){const t=document.querySelector(".popup.open");i(t)}});R();const $=document.querySelectorAll(".popup-link");A($[0]);const j=document.querySelector(".close-popup");i(j.closest(".popup"));b();v();
//# sourceMappingURL=commonHelpers2.js.map

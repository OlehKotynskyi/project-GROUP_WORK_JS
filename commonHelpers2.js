import{a as E}from"./assets/template-2a507105.js";import{a as I}from"./assets/vendor-a61d8330.js";async function k(e){return(await I(`https://food-boutique.b.goit.study/api/products/${e}`)).data}const A=document.querySelector(".products-container");document.querySelector(".popular-container");const b=document.querySelector(".discount-container"),y="products in cart";async function T(){const e=await k("discount");b.insertAdjacentHTML("beforeend",E(e))}T();A.addEventListener("click",O);async function O(e){if(e.target.nodeName!=="BUTTON")return;const o=e.target.closest(".list-item").id;console.log(o);try{const c=await k(o),n=JSON.parse(localStorage.getItem(y))??[];console.log(n);const u=n.findIndex(x=>x._id===o);console.log(u),u!==-1?n[u].quantity+=1:(c.quantity=1,n.push(c)),localStorage.setItem(y,JSON.stringify(n))}catch(c){console.log(c.message)}}let p=0;const h=60,m=document.querySelector(".header"),L=document.querySelector(".header-section"),l=()=>window.pageYOffset||document.documentElement.scrollTop,S=()=>m.classList.contains("hide");function D(){window.addEventListener("scroll",()=>{l()>p&&!S()&&l()>h?m.classList.add("hide"):l()<p&&S()&&m.classList.remove("hide"),l()>h?L.classList.add("scrolled"):L.classList.remove("scrolled"),p=l()})}const a=document.querySelectorAll(".popup-link"),r=document.querySelector("body"),s=document.querySelectorAll(".lock-padding");let i=!0;const g=800;if(a.length>0)for(let e=0;e<a.length;e++){const t=a[e];t.addEventListener("click",function(o){const c=t.getAttribute("href").replace("#",""),n=document.getElementById(c);q(n),o.preventDefault()})}const f=document.querySelectorAll(".close-popup");if(f.length>0)for(let e=0;e<f.length;e++){const t=f[e];t.addEventListener("click",function(o){d(t.closest(".popup")),o.preventDefault()})}function q(e){if(e&&i){const t=document.querySelector(".popup.open");t?d(t,!1):v(),e.classList.add("open"),e.addEventListener("click",function(o){o.target.closest(".popup-content")||d(o.target.closest(".popup"))})}}function d(e,t=!0){i&&(e.classList.remove("open"),t&&w())}function v(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(s.length>0)for(let t=0;t<s.length;t++){const o=s[t];o.style.paddingRight=e}r.style.paddingRight=e,r.classList.add("lock"),i=!1,setTimeout(function(){i=!0},g)}function w(){setTimeout(function(){if(s.length>0)for(let e=0;e<s.length;e++){const t=s[e];t.style.paddingRight="0px"}r.style.paddingRight="0px",r.classList.remove("lock")},g),i=!1,setTimeout(function(){i=!0},g)}document.addEventListener("keydown",function(e){if(e.code==="Escape"){const t=document.querySelector(".popup.open");d(t)}});D();const N=document.querySelectorAll(".popup-link");q(N[0]);const P=document.querySelector(".close-popup");d(P.closest(".popup"));v();w();
//# sourceMappingURL=commonHelpers2.js.map

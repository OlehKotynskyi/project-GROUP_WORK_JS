{"version":3,"file":"scroll-1c6ad45b.js","sources":["../../src/img/svg/minus.svg","../../src/img/svg/plus.svg","../../src/img/svg/basket.svg","../../src/img/svg/discount.svg","../../src/img/svg/popular-baskett.svg","../../src/img/svg/closed.svg","../../src/js/template.js","../../src/js/cart-header-counter.js","../../src/img/svg/check.svg","../../src/js/filters.js","../../src/js/pagination.js","../../src/js/fetch.js","../../src/js/products.js","../../src/js/popap.js","../../src/js/footer.js","../../src/js/base-js/scroll.js"],"sourcesContent":["export default \"__VITE_ASSET__bdb1f41d__\"","export default \"__VITE_ASSET__ce36306f__\"","export default \"__VITE_ASSET__5a9bd8d3__\"","export default \"__VITE_ASSET__2f15711f__\"","export default \"__VITE_ASSET__5a878bf3__\"","export default \"__VITE_ASSET__7c7d39c0__\"","import icons from '../img/sprite.svg';\nimport minus from '../img/svg/minus.svg';\nimport plus from '../img/svg/plus.svg';\nimport basket from '../img/svg/basket.svg';\nimport discount from '../img/svg/discount.svg';\nimport popular from '../img/svg/popular-baskett.svg';\nimport organic from '../img/svg/organic-food.svg';\nimport closed from '../img/svg/closed.svg'\n\nexport function createMarkupProductsAll(arr) {\n   return arr\n      .map(\n         ({ price, name, img, _id, category, size, popularity, is10PercentOff }) =>\n            `<li class=\"list-item\" id=\"${_id}\">\n            <div class=\"list-item-img\">\n               ${is10PercentOff ? `<img class=\"products-discount-icon\" src=\"${discount}\" alt=\"icon discount\" width=\"100\" height=\"100\">` : ''} \n               <img class=\"product-img\" width=100 src=\"${img}\">\n            </div>\n            <p class=\"products-titel\">${name}</p>\n            <div class=\"list-item-info\">\n               <p>Category: <span>${category}</span></p>\n               <p>Size: <span>${size}</span></p>\n               <p>Popularity: <span>${popularity}</span></p>\n            </div>\n            <div class=\"list-item-body-price\">\n               <span>&#36;${price}</span>\n               <button class=\"add-btn icon-styles\">\n               <img src=\"${basket}\" alt=\"icon bascket\" width=\"18\" height=\"18\">\n               </button>\n            </div>\n         </li>\n         `\n      )\n      .join('');\n}\n\nexport function createMarkupPopularProducts(arr) {\n   return arr\n      .map(({ price, name, img, _id, category, size, popularity }) => {\n         return `\n           <div class=\"product-popular-card\" id=\"${_id}\">\n           <div class=\"popular-image-item\">\n               <img src=\"${img}\" alt=\"${name}\" class=\"product-popular-image\">\n           </div>\n           <div class=\"parameters-popular-products\">\n               <h3 class=\"product-popular-title\">${name}</h3>\n               <p class=\"product-popular-category\">\n                   <span class=\"popular-text-card\">Category:</span> ${category}\n               </p>\n               <div class=\"size-popularity\">\n                   <p class=\"product-popular-size text-size-popularity\"><span class=\"popular-text-card\">Size:</span> ${size}</p>\n                   <p class=\"product-popularity text-size-popularity\"><span class=\"popular-text-card\">Popularity:</span> ${popularity}</p>\n               </div>\n               <button id=\"buy-button\" class=\"add-popular-basket add-btn\"('${name}')\">\n                   <img class=\"popular-basket-img\" src=\"${popular}\" alt=\"icon bascket\" width=\"12\" height=\"12\">\n               </button>\n           </div>\n       </div>`;\n      })\n      .join('');\n}\n\nexport function createMarkupProductsDiscount(arr) {\n   arr.splice(2);\n   return arr\n      .map(({ price, name, img, _id }) => {\n         return `\n         <li class=\"discount-list-item\" id=\"${_id}\" >\n            <div class=\"discount-card\" >\n               <img class=\"discount-icon\" src=\"${discount}\" alt=\"icon discount\" width=\"100\" height=\"100\">\n               <img class=\"discount-img\" src=\"${img}\"></div>\n            <div class=\"discount-info\">\n               <p>${name}</p>\n               <div class=\"discount-prise\">\n                <span>&#36;${price}</span>\n                  <button class=\"discount-link-basket more-btn \"> \n                  <span class=\"icon-styles\">\n                     <img class=\"discount-basket-icon\" src=\"${basket}\" alt=\"icon bascket\" width=\"18\" height=\"18\">\n                  </span>\n               </button> \n               </div>   \n            </div>      \n         </li>`;\n      })\n      .join('');\n}\n\nexport function createMarkupCart(arr) {\n   return arr\n      .map(\n         ({ price, name, img, _id, category, size }) =>\n            `<li class=\"cart-list-item\" id=\"${_id}\" >\n            <div class=\"cart-list-item-img-wrapper\">\n              <img class=\"cart-product-img\" width=64 src=\"${img}\">\n            </div>\n            <button class=\"remove-btn\">\n               <img class=\"remove-btn-img\" src=\"${closed}\" alt=\"icon bascket\" width=\"18\" height=\"18\">\n            </button>\n            <div class=\"cart-list-item-wrapper\">\n              <h3 class=\"products-titel\">${name}</h3>\n              <div class=\"list-item-info\">\n                <p>Category:  <span>${category}</span></p>\n                <p>Size:  <span>${size}</span></p>\n              </div>\n              <p class=\"cart-item-price\">$ <span>${price}</span></p>\n              </div>\n              <div class=\"cart-amount-wrapper\">\n                <button class=\"less-btn\">\n                  <img class=\"less-btn-img\" src=\"${minus}\" alt=\"icon bascket\" width=\"18\" height=\"18\">\n                </button>\n                <span class=\"products-quantity\"></span>\n                <button class=\"more-btn-card\">\n                  <img class=\"more-btn-img\" src=\"${plus}\" alt=\"icon bascket\" width=\"18\" height=\"18\">\n                </button>\n              </div>\n        </li>`\n      )\n      .join('');\n}\n\nexport function createMarkupModal(arr) {\n   return arr\n      .map(\n         ({ price, name, img, _id, category, size, popularity, desc }) =>\n            `\n                  <li class=\"popup-list-item\" id=\"${_id}\">\n            <div class=\"list-item-img\">\n               <img width=100 src=\"${img}\">\n            </div>\n            <div class=\"list-item-info\">\n            <p class=\"products-titel\">${name}</p>\n               <p>Category: <span>${category}</span></p>\n               <p>Size: <span>${size}</span></p>\n               <p>Popularity: <span>${popularity}</span></p>\n               <p class=\"modal-desc\" >${desc}</p>\n            </div>\n            <div class=\"list-item-body-price\">\n                <span>&#36;${price}</span>\n               <button class=\"add-btn icon-styles\">Add to\n                   <img src=\"${basket}\" alt=\"icon bascket\" width=\"18\" height=\"18\">\n               </button>\n            </div>\n         </li>\n         `\n      )\n      .join('');\n} // list-item-info\n","const KEY = 'products in cart';\nfunction addCounter() {\n  const counter = document.querySelector('.header-basket-counter');\n  const productsCounter = JSON.parse(localStorage.getItem(KEY));\n  if (productsCounter === null || productsCounter.length === 0) {\n    counter.textContent = `0`;\n  } else {\n    counter.textContent = `${productsCounter.length}`;\n  }\n}\nexport default addCounter;\n\n","export default \"__VITE_ASSET__317232e2__\"","// filters.js\nimport SlimSelect from 'slim-select';\n//import '../../node_modules/slim-select/dist/slimselect.css';\nimport { fetchProductsAll } from './fetch.js';\nimport { updateProductsList } from './products.js';\nimport { getProductsLimit } from './products.js';\n\nfunction debounce(func, wait, immediate) {\n    let timeout;\n    return function() {\n        const context = this, args = arguments;\n        const later = function() {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n        };\n        const callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n    };\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    initializeFilters();\n    fetchCategories();\n    setupEventListeners();\n    fetchInitialProducts();\n\n    // Відновлення значень фільтрів\n    const savedFilters = getSavedFilters();\n   if (savedFilters.keyword) {\n       document.getElementById('search-box').value = savedFilters.keyword;\n   }\n\n   if (savedFilters.category) {\n       document.getElementById('categories').value = savedFilters.category;\n   }\n});\n\nlet wasMobile = window.innerWidth <= 375;\nlet wasTablet = window.innerWidth > 375 && window.innerWidth <= 768;\n\nfunction handleResize() {\n    const width = window.innerWidth;\n    const isMobile = width <= 375;\n    const isTablet = width > 375 && width <= 768;\n\n    if (isMobile !== wasMobile || isTablet !== wasTablet) {\n        fetchFilteredProducts();\n        wasMobile = isMobile;\n        wasTablet = isTablet;\n    }\n}\n\nwindow.addEventListener('resize', debounce(handleResize, 300));\n\nasync function fetchCategories() {\n    try {\n        const response = await fetch('https://food-boutique.b.goit.study/api/products/categories');\n        const categories = await response.json();\n        populateCategorySelect(categories);\n    } catch (error) {\n        console.error('Error fetching categories:', error);\n    }\n}\n\nfunction populateCategorySelect(categories) {\n    const selectElement = document.getElementById('categories');\n    selectElement.innerHTML = '';\n\n// Додаємо категорію \"Show all\" в кінець списку\nconst modifiedCategories = categories.map(category => ({\n  text: category.replace(/_/g, ' '),\n  value: category\n})).concat({text: 'Show all', value: ''});\n\nnew SlimSelect({\nselect: '#categories',\nplaceholder: 'Categories',\nshowSearch: false, // Вимкнути пошук, якщо не потрібно\ndata: modifiedCategories\n});\n}\n\nfetchCategories();\n\n// async function fetchCategories() {\n//     try {\n//         const response = await fetch('https://food-boutique.b.goit.study/api/products/categories');\n//         const categories = await response.json();\n//         populateCategorySelect(categories);\n//     } catch (error) {\n//         console.error('Error fetching categories:', error);\n//     }\n// }\n\n// function populateCategorySelect(categories) {\n//     new SlimSelect({\n//         select: '#categories',\n//         placeholder: 'Categories',\n//         showSearch: false, // Вимкнути пошук, якщо не потрібно\n//         data: [{ text: 'Categories', value: '' }, ...categories.map(category => ({\n//             text: category.replace(/_/g, ' '),\n//             value: category\n//         }))]\n//     });\n// }\n//fetchCategories();\n\n   \n    // Ініціалізація Slim Select з плейсхолдером \"Categories\"\n    //const slimSelect = new SlimSelect({\n    //  select: '#categories',\n     // placeholder: 'Categories',\n     // data: [{text: 'Show all', value: ''}].concat(\n     //     categories.map(category => ({\n     //         text: category.replace(/_/g, ' '),\n      //        value: category\n      //    }))\n      //)\n // });\n\n    // Ініціалізація Slim Select\n    //const slimSelect = new SlimSelect({\n    //    select: '#categories'\n    //});\n\nfunction setupEventListeners() {\n   const searchForm = document.querySelector('.search-form');\n   const categoriesSelect = document.getElementById('categories');\n\n   searchForm.addEventListener('submit', function (e) {\n      e.preventDefault();\n      const keyword = document.getElementById('search-box').value;\n      if (keyword == '') {\n         updateFilters('keyword', null);\n         fetchFilteredProducts();\n         updateFilters('page', 1);\n      } else {\n         updateFilters('keyword', keyword);\n         fetchFilteredProducts();\n         updateFilters('page', 1);\n      }\n   });\n\n   categoriesSelect.addEventListener('change', function () {\n      if (this.value == 'Show all') {\n         updateFilters('category', null);\n         updateFilters('page', 1);\n         fetchFilteredProducts();\n      } else {\n         updateFilters('category', this.value);\n         updateFilters('page', 1);\n         fetchFilteredProducts();\n      }\n   });\n}\n\n// Додаткова функція для скидання сторінки на 1\nfunction resetPage() {\n   updateFilters('page', 1);\n}\n\nasync function fetchFilteredProducts() {\n   const filters = getSavedFilters();\n   const limit = getProductsLimit();\n\n   try {\n      // Відправка запиту з включенням обраних ключового слова і категорії\n      const products = await fetchProductsAll(\n         filters.category,\n         filters.keyword,\n         filters.page,\n         limit\n      );\n      updateProductsList(products);\n   } catch (error) {\n      console.error('Error fetching products:', error);\n      updateProductsList([]);\n   }\n}\n\nfunction initializeFilters() {\n   if (!localStorage.getItem('filters')) {\n      resetFilters();\n   }\n}\n\nfunction updateFilters(key, value) {\n   const filters = getSavedFilters();\n   filters[key] = value;\n   localStorage.setItem('filters', JSON.stringify(filters));\n   // paginationReset();\n}\n\nfunction resetFilters() {\n   localStorage.setItem(\n      'filters',\n      JSON.stringify({ keyword: null, category: null, page: 1, limit: 6 })\n   );\n}\n\nfunction getSavedFilters() {\n   return JSON.parse(localStorage.getItem('filters')) || resetFilters();\n}\n\nfunction fetchInitialProducts() {\n   fetchFilteredProducts();\n}\nexport default fetchFilteredProducts;\n//import { fetchProductsAll } from './fetch.js';\n//import { updateProductsList } from './products.js';\n\n//document.addEventListener('DOMContentLoaded', function () {\n//    initializeFilters();\n//    fetchCategories();\n//    setupEventListeners();\n//    fetchInitialProducts();\n//});\n\n//async function fetchCategories() {\n//    try {\n//        const response = await fetch('https://food-boutique.b.goit.study/api/products/categories');\n//        const categories = await response.json();\n//        populateCategorySelect(categories);\n//    } catch (error) {\n//        console.error('Error fetching categories:', error);\n//    }\n//}\n\n//function populateCategorySelect(categories) {\n//    const select = document.getElementById('categories');\n//    // Додаємо опцію \"Show all\"\n//    select.appendChild(new Option(\"Show all\", \"\"));\n\n//    categories.forEach(category => {\n//        const option = document.createElement('option');\n//        option.value = category;\n//        option.textContent = category.replace(/_/g, ' ');\n//        select.appendChild(option);\n//    });\n\n//    const savedFilters = getSavedFilters();\n//    if (savedFilters.category) {\n//        select.value = savedFilters.category;\n//    }\n//}\n\n//function setupEventListeners() {\n//    const searchForm = document.querySelector('.search-form');\n//    const categoriesSelect = document.getElementById('categories');\n\n//    searchForm.addEventListener('submit', function (e) {\n//        e.preventDefault();\n//        const keyword = document.getElementById('search-box').value;\n//        updateFilters('keyword', keyword);\n//        fetchFilteredProducts();\n//    });\n\n//    categoriesSelect.addEventListener('change', function () {\n//        updateFilters('category', this.value);\n//        fetchFilteredProducts();\n//    });\n//}\n\n//// Додаткова функція для скидання сторінки на 1\n//function resetPage() {\n//    updateFilters('page', 1);\n//}\n\n//async function fetchFilteredProducts() {\n//    const filters = getSavedFilters();\n//    try {\n//        const products = await fetchProductsAll(filters.category, filters.keyword, filters.page, filters.limit);\n//        updateProductsList(products);\n//    } catch (error) {\n//        console.error('Error fetching products:', error);\n//        updateProductsList([]);\n//    }\n//}\n\n//function initializeFilters() {\n//    if (!localStorage.getItem('filters')) {\n//        resetFilters();\n//    }\n//}\n\n//function updateFilters(key, value) {\n//    const filters = getSavedFilters();\n//    filters[key] = value;\n//    localStorage.setItem('filters', JSON.stringify(filters));\n//}\n\n//function resetFilters() {\n//    localStorage.setItem('filters', JSON.stringify({ keyword: null, category: null, page: 1, limit: 6 }));\n//}\n\n//function getSavedFilters() {\n//    return JSON.parse(localStorage.getItem('filters')) || resetFilters();\n//}\n\n//function fetchInitialProducts() {\n//    fetchFilteredProducts();\n//}","import Pagination from 'tui-pagination';\nimport fetchFilteredProducts from './filters';\n\nconst container = document.getElementById('pagination');\nlet visiblePages = 0;\n\nconst screenWidth = window.innerWidth;\nif (screenWidth < 768) {\n  // Мобільні пристрої\n  visiblePages = 2;\n} else {\n  // Таблет\n  visiblePages = 4;\n}\n\nexport function addPagination(pages, limit, currentPage) {\n  \n  const options = {\n    totalItems: pages.totalPages * limit,\n    itemsPerPage: limit,\n    visiblePages: visiblePages,\n    page: currentPage,\n    centerAlign: false,\n    // firstItemClassName: 'tui-first-child',\n    // lastItemClassName: 'tui-last-child',\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</span>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-is-disabled tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n  const pagination = new Pagination(container, options);\n  pagination.on('afterMove', event => {\n    const currentPage = event.page;\n    var filters = JSON.parse(localStorage.getItem('filters')) || {};\n    filters.page = currentPage;\n    localStorage.setItem('filters', JSON.stringify(filters));\n    fetchFilteredProducts();\n  });\n}\nexport function deletePagination(){\n    container.innerHTML = '';\n}","import axios from 'axios';\nimport { addPagination, deletePagination } from './pagination';\n\nexport async function fetchProductsAll(\n  category,\n  keyword,\n  page,\n  limit,\n  sortMethod\n) {\n  try {\n    const params = {\n      keyword: keyword || '',\n      category: category || '',\n      page: page || 1,\n      limit: limit || 6,\n    };\n\n    // Додаємо спосіб сортування до параметрів запиту, якщо він існує\n    if (sortMethod) {\n      params.sort = sortMethod;\n    }\n\n    const response = await axios({\n      method: 'get',\n      url: 'https://food-boutique.b.goit.study/api/products',\n      params: params,\n    });\n    if (response.data.totalPages > 1) {\n      addPagination(response.data, limit, page);\n    } else {\n      deletePagination();\n    }\n    return response.data.results;\n  } catch (error) {\n    console.error('Error fetching products:', error);\n    return []; // повертаємо порожній масив у випадку помилки\n  }\n}\n\nexport async function fetchProducts(select) {\n  const response = await axios(\n    `https://food-boutique.b.goit.study/api/products/${select}`\n  );\n  return response.data;\n}\n","import {\n   createMarkupProductsAll,\n   createMarkupPopularProducts,\n   createMarkupProductsDiscount,\n} from './template.js';\nimport check from '../img/svg/check.svg';\nimport { fetchProductsAll, fetchProducts } from './fetch.js';\nimport addCounter from './cart-header-counter.js';\n\nconst containerAll = document.querySelector('.products-container');\nconst containerPopular = document.querySelector('.popular-container');\nconst containerDiscount = document.querySelector('.discount-container');\n\nconst KEY = 'products in cart';\n\n// Функція для оновлення списку продуктів\nexport function updateProductsList(products) {\n   const container = document.querySelector('.products-container');\n   if (!products || products.length === 0) {\n       // Якщо продуктів немає, показуємо повідомлення\n       container.innerHTML = `<div class=\"cart-empty empty-filter\">\n           <h3 class=\"products-titel\">Nothing was found for the selected <span>filters...</span></h3>\n           <p>Try adjusting your search parameters or browse our range by other criteria to find the perfect product for you.</p>\n       </div>`;\n   } else {\n      // Якщо продукти є, заповнюємо контейнер продуктами і приховуємо повідомлення, якщо воно було показано\n      container.innerHTML = createMarkupProductsAll(products);\n   }\n}\n\nexport function getProductsLimit() {\n   const screenWidth = window.innerWidth;\n   if (screenWidth < 375) {\n      // Мобільні пристрої\n      return 6;\n   } else if (screenWidth >= 375 && screenWidth < 768) {\n      // Таблет\n      return 8;\n   } else {\n      // Десктоп і вище\n      return 9;\n   }\n\n}\nrenderAll();\n\n// перемішування масиву та вибору випадкових продуктів\nfunction shuffleArray(array) {\n   for (let i = array.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [array[i], array[j]] = [array[j], array[i]]; // Перемішування елементів\n   }\n}\n\nasync function renderPopular() {\n   try {\n      const data = await fetchProducts('popular');\n      const newData = removeUnderscores(data);\n      const randomData = getRandomProducts(newData, 5); // Вибірка 5 випадкових продуктів\n      containerPopular.innerHTML = createMarkupPopularProducts(randomData);\n   } catch (error) {\n      console.log(error.message);\n   }\n}\n\nrenderPopular();\n\nasync function renderAll() {\n   try {\n      const data = await fetchProductsAll('Fresh_Produce');\n      containerAll.insertAdjacentHTML(\n         'beforeend',\n         createMarkupProductsAll(removeUnderscores(data))\n      );\n      addCounter();\n      console.log(data)\n\n   } catch (error) {\n      console.log(error.message);\n   }\n}\n\nrenderAll();\n\n// async function renderAll() {\n//   try {\n//     const data = await fetchProductsAll('Fresh_Produce');\n//     containerAll.insertAdjacentHTML(\n//       'beforeend',\n//       createMarkupProductsAll(products)\n//     );\n//     addCounter();\n//   } catch (error) {\n//     console.log(error.message);\n//   }\n// }\n// renderAll();\n\nfunction getRandomProducts(products, count) {\n   shuffleArray(products);\n   return products.slice(0, count);\n}\n\nasync function renderDiscount() {\n   try {\n      const data = await fetchProducts('discount');\n      const randomData = getRandomProducts(data, 2); // Вибірка 2 випадкових продуктів\n      containerDiscount.innerHTML = createMarkupProductsDiscount(randomData);\n   } catch (error) {\n      console.log(error.message);\n   }\n   return;\n}\n\ncontainerDiscount.addEventListener('click', addBtnClickDiscount);\n\nexport async function addBtnClickDiscount(event) {\n   if (\n      event.target.className === 'discount-link-basket' ||\n      event.target.className === 'discount-basket-icon' ||\n      event.target.className === 'discount-basket-icon'\n      // event.target.className === 'add-btn'\n      // event.target.nodeName === 'BUTTON' ||\n      // event.target.nodeName === 'SPAN' ||\n      //   event.target.nodeName === 'IMG'\n   ) {\n      const selectedItem = event.target.closest('.discount-list-item');\n\n      const selectedItemId = selectedItem.id;\n\n      try {\n         const currentProduct = await fetchProducts(selectedItemId);\n         const products = JSON.parse(localStorage.getItem(KEY)) ?? [];\n\n         const index = products.findIndex(item => item._id === selectedItemId);\n\n         if (index !== -1) {\n            products[index].quantity += 1;\n         } else {\n            currentProduct.quantity = 0;\n            products.push(currentProduct);\n            const button = selectedItem.querySelector('button');\n            button.disabled = true;\n            button.innerHTML = `<span class=\"icon-styles\">\n                     <img class=\"discount-basket-icon\" src=\"${check}\" alt=\"icon bascket\" width=\"18\" height=\"18\">\n\n                  </span>`;\n            button.classList.add('disabled');\n         }\n         localStorage.setItem(KEY, JSON.stringify(products));\n         addCounter();\n      } catch (error) {\n         console.log(error.message);\n      }\n   }\n   return;\n}\n\nrenderDiscount();\n\ncontainerAll.addEventListener('click', addBtnClick);\n\nexport async function addBtnClick(event) {\n   if (\n      event.target.nodeName === 'BUTTON' ||\n      event.target.className === 'add-btn' ||\n      event.target.nodeName === 'IMG'\n   ) {\n      //     return;\n      //   }\n      const selectedItem = event.target.closest('.list-item-body-price');\n\n      const selectedItemId = selectedItem.parentElement.id;\n      //const selectedItemId = selectedItem.id;\n\n      try {\n         const currentProduct = await fetchProducts(selectedItemId);\n         const products = JSON.parse(localStorage.getItem(KEY)) ?? [];\n\n         const index = products.findIndex(item => item._id === selectedItemId);\n\n         if (index !== -1) {\n            products[index].quantity += 1;\n         } else {\n            currentProduct.quantity = 0;\n            products.push(currentProduct);\n            //==========\n            const button = selectedItem.querySelector('button');\n            button.disabled = true;\n            button.innerHTML = `<img src=\"${check}\" alt=\"icon check\" width=\"18\" height=\"18\">`;\n            button.classList.add('disabled');\n            //=========\n         }\n         localStorage.setItem(KEY, JSON.stringify(products));\n         addCounter();\n      } catch (error) {\n         console.error();\n      }\n   }\n   return;\n}\n\n\ncontainerPopular.addEventListener('click', addBtnClickPopularCard);\n\nasync function addBtnClickPopularCard(event) {\n   if (\n      event.target.nodeName === 'BUTTON' ||\n      event.target.className === 'popular-basket-img'\n   ) {\n      const selectedItem = event.target.closest('.product-popular-card');\n      const selectedItemId = selectedItem.id;\n      const button = selectedItem.querySelector('button');\n      button.disabled = true;\n\n      try {\n         const currentProduct = await fetchProducts(selectedItemId);\n         const products = JSON.parse(localStorage.getItem(KEY)) ?? [];\n\n         const index = products.findIndex(item => item._id === selectedItemId);\n\n         if (index !== -1) {\n            products[index].quantity += 1;\n         } else {\n            currentProduct.quantity = 0;\n            products.push(currentProduct);\n            button.innerHTML = `<img class=\"popular-disadbled-img\" src=\"${check}\" alt=\"icon bascket\" width=\"20\" height=\"20\">`;\n            button.classList.add('popular-disadbled-btn');\n         }\n         localStorage.setItem(KEY, JSON.stringify(products));\n         addCounter();\n      } catch (error) {\n         console.log(error.message);\n         button.disabled = false;\n      }\n   }\n   return;\n}\n\n// Функція для видалення підкреслення між словами\nexport function removeUnderscores(arr) {\n  return arr.map(obj => {\n    let category = obj.category;\n    if (typeof category === 'string') {\n      category = category.split('_').join(' ');\n    }\n    return { ...obj, category };\n  });\n}\n","import { createMarkupModal } from './template';\nimport { addBtnClickDiscount, addBtnClick } from './products';\nimport * as basicLightBox from 'basiclightbox';\nimport { fetchProducts } from './fetch';\n// // console.log(5); //то була перевірка чи працює файл\n// const container = document.querySelector('.popup');\n// const item = document.querySelector('body ');\n// //=========\n// const itemDiscount = document.querySelector('.discount-section ');\n// //==========\n// const close = document.querySelector('.popup-close');\n// item.addEventListener('click', handleClick);\n// //=========\n// itemDiscount.addEventListener('click', handleClickDiscount);\n// function handleClickDiscount(event) {\n//    if (\n//       event.target.className === 'discount-link-basket' ||\n//       event.target.className === 'discount-basket-icon' ||\n//       event.target.className === 'discount-basket-icon'\n//    ) {\n//       addBtnClickDiscount(event);\n//       return;\n//    }\n\n//    const itemIdDiscount = event.target.closest('.discount-list-item').id;\n//    const itemElementDiscount = document.getElementById(itemIdDiscount);\n//    itemElementDiscount.classList.add(\"popap-card\");\n\n//    container.innerHTML = itemElementDiscount.outerHTML;\n\n//    container.style.display = 'flex';\n\n//    document.addEventListener('keydown', handleClickClose);\n//    function handleClickClose(event) {\n//       if (event.key === 'Escape') {\n//          container.style.display = 'none';\n//          itemElementDiscount.classList.remove(\"popap-card\");\n//          document.removeEventListener('keydown', handleClickClose);\n//       }\n//    }\n// }\n\n// //===============\n// function handleClick(event) {\n//    // console.log(event.target);\n//    // if (event.target === event.currentTarget) {\n//    //   return;\n//    // }\n//    //=============\n//    if (\n//       event.target.nodeName === 'BUTTON' ||\n//       event.target.className === 'add-btn' ||\n//       event.target.nodeName === 'IMG'\n//    ) {\n//       addBtnClick(event);\n//       return;\n//    }\n\n//    const itemId = event.target.closest('.list-item').id;\n//    const itemElement = document.getElementById(itemId);\n//    itemElement.classList.add(\"popap-card\");\n//    // itemElement.createElement(\"button\")\n\n//    container.innerHTML = itemElement.outerHTML;\n\n//    // const modalContent = createMarkupModal();\n//    // container.innerHTML = modalContent;\n//    container.style.display = 'flex';\n\n//    document.addEventListener('keydown', handleClickClose);\n//    function handleClickClose(event) {\n//       if (event.key === 'Escape') {\n//          container.style.display = 'none';\n//          itemElement.classList.remove(\"popap-card\");\n//          document.removeEventListener('keydown', handleClickClose);\n//       }\n//    }\n// }\n\n// я намагалась додати таким способом /1\n\n// const refs = {\n//     popupCart: document.querySelector('.popup-cart'),\n//     closeBtn: document.querySelector('.popup-cart-close-btn'),\n//  };\n\n//  refs.closeBtn.addEventListener('click', closeModal);\n\n//  function closeModal() {\n//     refs.popupCart.classList.add('is-hidden');\n//     window.removeEventListener('keydown', closeByEscape);\n//   }\n\n//  чи ось так/2\n\n//   function closeModal() {\n//     modal.classList.remove('active');\n//     overlay.classList.remove('active');\n//     document.body.style.overflow = '';\n//   }\n//   closeBtn.addEventListener('click', closeModal);\n\n//   document.addEventListener('keydown', (e) => {\n//     if (e.key === \"Escape\") {\n//       closeModal();\n//     }\n//   })\n\n//   overlay.addEventListener('click', () =>  {\n//       closeModal();\n//     });\n// const itemPopular = document.querySelector('.popular-section-container ');\n\n// itemPopular.addEventListener('click', handleClickPopular);\n// function handleClickPopular(event) {\n//   // if (\n//   //   event.target.className === 'add-popular-basket' ||///btn\n//   //   event.target.className === 'popular-basket-svg' ||//icon btn\n//   //   event.target.className === 'popular-basket-svg'\n//   // ) {\n//   //   addBtnClickDiscount(event);\n//   //   return;\n//   // }\n\n//   const itemIdPopular = event.target.closest('.product-popular-card').id;\n//   const itemElementPopular = document.getElementById(itemIdPopular);\n//   itemElementPopular.classList.add(\"popap-card\");\n\n//   container.innerHTML = itemElementPopular.outerHTML;\n\n//   container.style.display = 'flex';\n\n//   document.addEventListener('keydown', handleClickClose);\n//   function handleClickClose(event) {\n//     if (event.key === 'Escape') {\n//       container.style.display = 'none';\n//       itemElementPopular.classList.remove(\"popap-card\");\n//       document.removeEventListener('keydown', handleClickClose);\n//     }\n//   }\n// }\n\n\n// BasicLightBox modal\nconst mainProducts = document.querySelector('.products-container');\nconst popularProducts = document.querySelector('.popular-container');\nconst discountProducts = document.querySelector('.discount-container')\n\nmainProducts.addEventListener('click', openModal)\npopularProducts.addEventListener('click', openModal)\ndiscountProducts.addEventListener('click', openModal)\n\nfunction openModal(event) {\n   if (\n      event.target === event.currentTarget\n      || event.target.nodeName === 'BUTTON'\n      || event.target.className === 'add-btn'\n      || event.target.className === 'popular-basket-img'\n      || event.target.className === 'icon-styles'\n      || event.target.className === 'discount-basket-icon'\n      || event.target.alt === 'icon bascket'\n   ) {\n      return;\n   }\n   \n   if (event.target.closest('.discount-list-item') !== null) {\n      const targetProduct = event.target.closest('.discount-list-item');\n      const targetProductId = targetProduct.id;\n      renderProductModal(targetProductId, event)\n   }\n\n   if (event.target.closest('.list-item') !== null) {\n      const targetProduct = event.target.closest('.list-item');\n      const targetProductId = targetProduct.id;\n      renderProductModal(targetProductId, event)\n   }\n\n   if (event.target.closest('.product-popular-card') !== null) {\n      const targetProduct = event.target.closest('.product-popular-card');\n      const targetProductId = targetProduct.id;\n      renderProductModal(targetProductId, event)\n   }\n}\n\nasync function renderProductModal(id, e) {\n   try {\n      const data = [await fetchProducts(id)];\n      const closeWithEsc = (evt) => {\n         if (instance.visible() && evt.key === \"Escape\") {\n            instance.close();\n         }\n      }\n      const instance = basicLightBox.create(createMarkupModal(data), {\n         onClose: (instance) => document.removeEventListener('keydown', closeWithEsc),\n         onClose: (instance) => modalContainer.querySelector('button').removeEventListener('click', addBtnClick)\n      });\n      instance.show();\n      document.addEventListener('keydown', closeWithEsc);\n\n      const modalContainer = document.querySelector('.basicLightbox__placeholder');\n      modalContainer.querySelector('button').addEventListener('click', addBtnClick);\n   } catch (error) {\n      console.log(error.message);\n   }\n}\n\n// modal for checkout\n\n\n// btnCheckout.addEventListener('click', onModal)\n// function onModal(evt) {\n//   evt.preventDefault()\n//   if (evt.target === currentTarget) {\n//     return\n//   }\n//   const modalOn = basicLightbox.create(`<div id=\"myModal\" class=\"modal\">\n//   <div class=\"modal-content\">\n//     <button class=\"btn-close\">\n//       <svg width=\"16\" height=\"16\">\n//         <use href=\"./img/sprite.svg#icon-closed\"></use>\n//       </svg>\n//     </button>\n//     <div>\n//       <h2 class=\"modalH\">Order success</h2>\n//       <p class=\"modalMessage\">\n//         Thank you for shopping at Food Boutique. Your order has been received\n//         and is now being freshly prepared just for you! Get ready to indulge in\n//         nourishing goodness, delivered right to your doorstep. We're thrilled to\n//         be part of your journey to better health and happiness.\n//       </p>\n//     </div>\n//   </div>\n// </div>`, {\n//      onShow: () => {\n//       document.addEventListener('keydown', OnEscClose);\n//     },\n//     onClose: () => {\n//       document.removeEventListener('keydown', OnEscClose);\n//     },\n//   });\n//   modalOn.show();\n//   function OnEscClose(evt) {\n//     if (evt.code === 'Escape') return modalOn.close();\n//   }\n// }\n\n","const form = document.querySelector('#formEmail');\nconst emailInput = document.querySelector('#formInput');\n\nform.addEventListener('submit', handleFormSubmit);\nemailInput.addEventListener('keyup', handleKeyPress);\n\nfunction handleFormSubmit(event) {\n   event.preventDefault();\n   const email = emailInput.value.trim();\n\n   if (!validateEmail(email)) {\n      alert('Please enter a valid email address');\n      return;\n   }\n\n   if (email === '') {\n      alert('Please enter an email address');\n      return;\n   }\n\n   sendDataToServer({ email })\n      .then(() => {\n         console.log('Data sent successfully');\n         emailInput.value = '';\n      })\n      .catch(error => {\n         console.error('There was a problem with the fetch operation:', error);\n      });\n}\n\nfunction handleKeyPress(event) {\n   if (event.key === 'Enter') {\n      handleFormSubmit(event);\n   }\n}\n\nfunction sendDataToServer(data) {\n   return new Promise((resolve, reject) => {\n      setTimeout(() => {\n         console.log('Imitating sending data to server:', data);\n         resolve();\n      }, 2000);\n   });\n}\n\nfunction validateEmail(email) {\n   const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n   return emailRegex.test(email);\n}","// Шапка сайту ховати та показувати при прокрутці сторінки\nlet lastScroll = 0;\nconst defaultOffset = 60;\nconst header = document.querySelector('.header');\nconst headerSection = document.querySelector('.header-section');\nconst scrollPosition = () => window.pageYOffset || document.documentElement.scrollTop;\nconst containHide = () => header.classList.contains('hide');\n\nexport function handleHeaderScroll() {\n   window.addEventListener('scroll', () => {\n      if (scrollPosition() > lastScroll && !containHide() && scrollPosition() > defaultOffset) {\n         header.classList.add('hide');\n      } else if (scrollPosition() < lastScroll && containHide()) {\n         header.classList.remove('hide');\n      }\n      if (scrollPosition() > defaultOffset) {\n         headerSection.classList.add('scrolled');\n      } else {\n         headerSection.classList.remove('scrolled');\n      }\n      lastScroll = scrollPosition();\n   });\n}"],"names":["minus","plus","basket","discount","popular","closed","createMarkupProductsAll","arr","price","name","img","_id","category","size","popularity","is10PercentOff","createMarkupPopularProducts","createMarkupProductsDiscount","createMarkupCart","createMarkupModal","desc","KEY","addCounter","counter","productsCounter","check","debounce","func","wait","immediate","timeout","context","args","later","callNow","initializeFilters","fetchCategories","setupEventListeners","fetchInitialProducts","savedFilters","getSavedFilters","wasMobile","wasTablet","handleResize","width","isMobile","isTablet","fetchFilteredProducts","categories","populateCategorySelect","error","selectElement","modifiedCategories","SlimSelect","searchForm","categoriesSelect","e","keyword","updateFilters","filters","limit","getProductsLimit","products","fetchProductsAll","updateProductsList","resetFilters","key","value","container","visiblePages","screenWidth","addPagination","pages","currentPage","options","Pagination","event","deletePagination","page","sortMethod","params","response","axios","fetchProducts","select","containerAll","containerPopular","containerDiscount","renderAll","shuffleArray","array","i","j","renderPopular","data","newData","removeUnderscores","randomData","getRandomProducts","count","renderDiscount","addBtnClickDiscount","selectedItem","selectedItemId","currentProduct","index","item","button","addBtnClick","addBtnClickPopularCard","obj","mainProducts","popularProducts","discountProducts","openModal","targetProductId","renderProductModal","id","closeWithEsc","evt","instance","basicLightBox.create","modalContainer","form","emailInput","handleFormSubmit","handleKeyPress","email","validateEmail","sendDataToServer","resolve","reject","lastScroll","defaultOffset","header","headerSection","scrollPosition","containHide","handleHeaderScroll"],"mappings":"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"}